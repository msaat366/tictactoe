import React from 'react';

const History = ({ history, moveTo, currentMove }) => {
  return (
    <ul>
      {history.map((_, move) => {
        return (
          <li key={move}>
            <button
              style={{
                fontWeight: move === currentMove ? 'bold' : 'normal',
              }}
              type="button"
              onClick={() => {
                moveTo(move);
              }}
            >
              {move === 0 ? 'Go to game start' : `Go to move ${move}`}
            </button>
          </li>
        );
      })}
    </ul>
  );
};

export default History;

/* <div class="forum-replies"><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Hi Subodh,</p><br><p>if I understood you correctly, this is the correct behavior.</p><br><p>When you click on a past step and then click on squares - current step keeps increasing, therefore you "travel through old steps", BUT at the same time you keep on adding new steps that are added to the end of the history.</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>But i want to clear that steps. How can i do that. I am trying to figure it out. But i cannot do it. Can you explain the procedure of removing that steps.</p><br><p></p><br><p>When I click on some step of game. The steps should be visible to undo and redo it. But when i forward to next step the older steps should be vanished. I think i can use slice command but i donot know the correct way of doing it.</p><br><p></p><br><p>Can you please explain it..?</p><br><p></p><br><p></p><br><p></p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Got it. This functionality is not provided in the training.</p><br><p>"undo" and "redo" can be done in multiple ways that differ from each other. If you can describe <span style="text-decoration: underline;">in details</span> how exactly you want to achieve "undo" and "redo", I will provide you some examples, suggestions, and of course explanations :)</p><br><p></p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>When I clicked on some step. The app takes me that step. But when i clicked on other boxes it repeats old steps.</p><br><p>I want when i clicked on some of the steps. All the steps should be there for that instant.</p><br><p></p><br><p>But when i proceeds to the next step the older data should be cleared and new data should be visible. And so on...</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Got it. So you want to "rewrite" the history.</p><br><p>Just in case, if you want to disable "playing" when you traversing through the history:</p><br><pre class="language-default"><code>const handleSquareClick = position =&gt; {<br>  if (<br>    current.board[position] ||<br>    winner ||<br>    currentMove + 1 !== history.length // if currentMove is NOT lastMove in game history<br>  ) {<br>    return;<br>  }<br><br>  // ...<br>};</code></pre><br><p>===========</p><br><p>Now, when you click on some step, you want to "rewrite" the history by start playing from that step:</p><br><pre class="language-default"><code>// App.js<br><br>const handleSquareClick = position =&gt; {<br>  if (current.board[position] || winner) {<br>    return;<br>  }<br><br>  // check if current move is the last move in history<br>  const isLastMove = currentMove + 1 === history.length;<br><br>  setHistory(prev =&gt; {<br>    // if we are on last move,<br>    // get board state of latest move<br>    // otherwise, treat previous board state as latest move<br>    const last = isLastMove ? prev[prev.length - 1] : prev[currentMove];<br><br>    const newBoard = last.board.map((square, pos) =&gt; {<br>      if (pos === position) {<br>        return last.isXNext ? 'X' : 'O';<br>      }<br><br>      return square;<br>    });<br><br>    // if we are on latest move (playing the game as usual),<br>    // get current history state (prev)<br>    // otherwise, treat history before currently clicked move as current history<br>    const currentHistory = isLastMove<br>      ? prev<br>      : prev.slice(0, prev.indexOf(last));<br><br>    return currentHistory.concat({<br>      board: newBoard,<br>      isXNext: !last.isXNext,<br>    });<br>  });<br><br>  // increment counter only when playing the game and NOT rewriting history<br>  if (isLastMove) {<br>    setCurrentMove(prev =&gt; prev + 1);<br>  }<br>};</code></pre><br><p>I added comments. Please check it out, and let me know if that's what you wanted to achieve.</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>It works but there is one problem.</p><br><p>When i clicked on some move It goes to that move but when i procced to other move the it remains on that move only and after that increment happens.</p><br><p></p><br><p>Eg - I have clicked on some 3 boxes. So there are 3 steps.</p><br><p>I clicked on step 1. It goes to step 1 but when i click on other box .it remains on step 1 only and after that when i clicked on 3 rd box it goes to step 2.</p><br><p></p><br><p>But there should be 3 steps.</p><br><p></p><br><p>Can you explain why this is happening..?</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Oops. Good catch! Didn't even notice that.</p><br><p>Yep, that is a wrong behavior. The code must be slightly changed. This is primarily because it does increment the "current move".</p><br><p>To fix that, it has to increment the current step:</p><br><pre class="language-default"><code>const handleSquareClick = position =&gt; {<br>  if (current.board[position] || winner) {<br>    return;<br>  }<br><br>  // check if current move is the last move in history<br>  const isLastMove = currentMove + 1 === history.length;<br><br>  setHistory(prev =&gt; {<br>    // if we are on last move,<br>    // get board state of latest move<br>    // otherwise, treat previous board state as latest move<br>    const last = isLastMove ? prev[prev.length - 1] : prev[currentMove];<br><br>    const newBoard = last.board.map((square, pos) =&gt; {<br>      if (pos === position) {<br>        return last.isXNext ? 'X' : 'O';<br>      }<br><br>      return square;<br>    });<br><br>    // if we are on latest move (playing the game as usual),<br>    // get current history state (prev)<br>    // otherwise, treat history before currently clicked move as current history<br>    const currentHistory = isLastMove<br>      ? prev<br>      : prev.slice(0, prev.indexOf(last) + 1); // [CHANGED] slice +1 element<br><br>    return currentHistory.concat({<br>      board: newBoard,<br>      isXNext: !last.isXNext,<br>    });<br>  });<br><br>  // [CHANGED] increment current move<br>  setCurrentMove(prev =&gt; prev + 1);<br>};</code></pre></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>How to take only one step back.</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>I didn't really understand the question.</p><br><p>Just click on second from the bottom "Go to move #X"?</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Sir How to make any button inactive. I HAVE INSERTED UNDO AND REDO BUTTON IN THE GAME. But it crashes after it goes beyond #move0. and with redo game crashes when there are no moves to redo.&nbsp;</p><br><p></p><br><p>How do i stop that. using which function.</p><br><p></p><br><p></p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>It depends how you implemented the "redo" and "undo" logic.</p><br><p>You have to use the "disabled" attribute on the button element, and as a safe check put extra logic in the handler.</p><br><p>"Go to game start" represents move 0, <br>"Go to move #1" represents 1, <br>"Go to move #2" represents 2,<br>and so on</p><br><p>You can do something like this:</p><br><pre class="language-default"><code>const App = () =&gt; {<br>  // ...<br><br>  const isFirstMove = currentMove === 0;<br>  const isLastMove = currentMove + 1 === history.length;<br><br>  const onRedo = () =&gt; {<br>    if (isFirstMove) {<br>      return;<br>    }<br><br>    // ... do the logic<br>  };<br><br>  const onUndo = () =&gt; {<br>    if (isLastMove) {<br>      return;<br>    }<br><br>    // ... do the logic<br>  };<br><br>  return (<br>    &lt;div className="app"&gt;<br>      &lt;button onClick={onRedo} disabled={isFirstMove}&gt;Undo&lt;/button&gt;<br>      &lt;button onClick={onUndo} disabled{isLastMove}&gt;Redo&lt;/button&gt;<br><br>      // ... other markup<br>    &lt;/div&gt;<br>  );<br>};</code></pre></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Oops, it misconfused redo and undo:</p><br><pre class="language-default"><code>const App = () =&gt; {<br>  // ...<br><br>  const isFirstMove = currentMove === 0;<br>  const isLastMove = currentMove + 1 === history.length;<br><br>  const onUndo = () =&gt; {<br>    if (isFirstMove) {<br>      return;<br>    }<br><br>    // ... do the logic<br>  };<br><br>  const onRedo = () =&gt; {<br>    if (isLastMove) {<br>      return;<br>    }<br><br>    // ... do the logic<br>  };<br><br>  return (<br>    &lt;div className="app"&gt;<br>      &lt;button onClick={onUndo} disabled={isFirstMove}&gt;Undo&lt;/button&gt;<br>      &lt;button onClick={onRedo} disabled{isLastMove}&gt;Redo&lt;/button&gt;<br><br>      // ... other markup<br>    &lt;/div&gt;<br>  );<br>};</code></pre></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>All good sir. I have understood your syntax.</p><br><p>The problem has be solved. My game is completed.</p><br><p></p><br><p>Link - <a href="https://fakt-tuya-sathi.surge.sh" target="_blank" title="https://fakt-tuya-sathi.surge.sh">https://fakt-tuya-sathi.surge.sh</a></p><br><p></p><br><p></p><br><p></p><br><p></p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Woahh, looks really good!!</p><br><p>Undo and Redo btns are indeed a good addition. I like how you added them. Also small theme changes look refreshing.</p><br><p>Well done! I'm glad you added that small extension to the game :)</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">S</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Subodh Gathade</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role">Student</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Thank you Sir.</p><br><p>You helped me with that Moves error and Undo and Redo button addition.</p><br><p>I was able to undo and redo but it was crashing if any move is not available for redo and undo. Anyway your assistance helped me a lot.</p><br><p>Thank you.</p></div></div></div><div><div class="question-card-details"><div class="details-left"><div class="person-avatar">A</div></div><div class="profile-header"><div class="person-details"><div class="person-name-role"><span class="person-name">Andrew Hulenko</span><div class="d-inline-block"><span class="separator">•</span><span class="person-role teacher">Teacher</span></div></div><div class="question-ask-duration">3 months ago</div></div></div></div><div class="question-data"><div class="question-description"><p>Sure :) Anytime!&nbsp;</p></div></div></div></div> */
